# AudioPlayer(AVAduioPlayer) + Slider

***

* Bundle.main.path와 AVAudioPlayer(contentsof: URL)을 이용해서 곡을 초기화 시키고 곡을 이동 시키는 것을 다룰려 했으나, iOS13부터 url Return문제로 안되는 듯? 추가 Search 필요
 * NSData로 초기화해서 문제를 해결 (곡을 1,2,3,4 이렇게 지정해서 카운팅 시키는 법으로, 노래 제목으로 다룰려면 배열에 곡 이름 넣고 index로 처리시키면 될 듯)

***

```swift
 let path = Bundle.main.path(forResource: "노래제목(1)", ofType: "mp3")!
        let url = URL(fileURLWithPath: path)

        do {
            audioPlayer =  try AVAudioPlayer(contentsOf: url)
        } catch {
          // can't load file , print error
        }
```

* 원래는 위와 같이도 AVaudioPlayer를 초기화 가능했으나, 지금은 안되는 듯 (해당 관련 포스팅2018년, 최근 댓글에 url return관련해서 안된다고 댓글 달려있음)
* 실제로 iOS13 , Xcode11에서 실행시 파일을 못찾아서 path에서 옵셔널 Error가 발생

```swift
 guard let soundAsset: NSDataAsset = NSDataAsset(name: "\(song[count])") else {
            print("음원 파일 없습니다.")
            return
        }

        do {
            try self.avPlayer = AVAudioPlayer(data: soundAsset.data)
            self.avPlayer.delegate = self
        } catch let error as NSError {
            print("플레이어 초기화 실패")
            print("에러코드: \(error.code)"")
        }
```

* 다음과 같이 NSDataAsset으로 초기화